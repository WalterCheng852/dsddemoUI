<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â§ñÂà§Â∑•Á®ãÁ≥ªÁµ± (SWAC) - Contractor Site Work System</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <!-- Header - Âõ∫ÂÆöÂñ∫È†ÇÈÉ® -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <h1 class="header-title">Â§ñÂà§Â∑•Á®ãÁ≥ªÁµ± (SWAC) - Contractor Site Work System - Government Module</h1>
                <p class="header-time" id="currentTime">ËºâÂÖ•‰∏≠...</p>
            </div>
            <div class="header-right">
                <button class="btn btn-outline" id="refreshBtn">
                    <i data-lucide="refresh-cw"></i>
                    Âà∑Êñ∞
                </button>
                <button class="btn btn-outline btn-danger">
                    <i data-lucide="log-out"></i>
                    ÁôªÂá∫
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <button class="nav-btn nav-btn-active" data-page="dashboard">
                ÂÑÄË°®Êùø
            </button>
            <button class="nav-btn" data-page="form-registration">
                Ë°®Ê†ºÁôªË®ò
            </button>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="main-content">
        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page active">
            <div class="container">
                <!-- Top Row: Metrics Grid (70%) + Checkout Reminders (30%) -->
                <div class="top-row">
                    <!-- Metrics Grid - 70% width -->
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-number">16</div>
                            <div class="metric-label">‰ªçÂú®ÈÄ≤Ë°å‰∏≠ÁöÑÂ§ñÂà§Â∑•Á®ã</div>
                            <div class="metric-unit">ÂñÆ</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-number">16</div>
                            <div class="metric-label">‰ªäÊó•ÂÖ±ÊúâÂ§ñÂà§Â∑•Á®ã</div>
                            <div class="metric-success">ÂÖ•Â†¥ÁôªË®ò 18 ÂñÆ</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-number">2</div>
                            <div class="metric-label">ÂØÜÈñâÁ©∫ÈñìÂ∑•‰Ωú</div>
                            <div class="metric-success">2 ÂÖ•Â†¥ÁôªË®ò</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-number">1</div>
                            <div class="metric-label">ÁÜ±Â∑•‰Ωú</div>
                            <div class="metric-success">1 ÂÖ•Â†¥ÁôªË®ò</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-number">1</div>
                            <div class="metric-label">Èõ¢Âú∞Â∑•‰Ωú</div>
                            <div class="metric-success">1 ÂÖ•Â†¥ÁôªË®ò</div>
                        </div>
                    </div>

                    <!-- Checkout Reminders - 30% width -->
                    <div class="reminders-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i data-lucide="clock"></i>
                                Èõ¢Â†¥ÊèêÈÜí
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="reminder-item reminder-overdue">
                                <div class="reminder-content">
                                    <p class="reminder-status">ÈÄæÊúü</p>
                                    <p class="reminder-text"><strong>Wong Tai Man</strong> È†êË®à 15:30</p>
                                </div>
                                <div class="reminder-actions">
                                    <button class="btn-icon">
                                        <i data-lucide="map-pin"></i>
                                    </button>
                                    <button class="btn-icon">
                                        <i data-lucide="users"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="reminder-item reminder-upcoming">
                                <div class="reminder-content">
                                    <p class="reminder-status">Âç≥Â∞áÂà∞Êúü</p>
                                    <p class="reminder-text"><strong>Chen</strong> 30 ÂàÜÈêòÂæå</p>
                                </div>
                                <button class="btn btn-outline btn-sm">ÊèêÈÜí</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Worker Summary Table -->
                <div class="table-section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Â∑•‰∫∫ÊëòË¶Å - Ë©≥Á¥∞Ë¶ñÂúñ</h3>
                        </div>
                        <div class="card-content">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Â∫èËôü</th>
                                            <th>Â∑•Á®ã‰∫∫Âì°ÁôªË®òË≥áÊñô</th>
                                            <th>Ê∏†ÂãôÁΩ≤Ë≤†Ë≤¨ËÅ∑Âì°</th>
                                            <th>Â∑•Á®Æ</th>
                                            <th>Ë®≠ÂÇôÈÖçÁΩÆ</th>
                                            <th>Êü•Ê†∏‰∫∫Âì°</th>
                                            <th>ÁãÄÊÖã</th>
                                            <th>Êìç‰Ωú</th>
                                        </tr>
                                    </thead>
                                    <tbody id="workersTableBody">
                                        <!-- Worker data will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Device Tracking -->
                <div class="device-tracking">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i data-lucide="radio"></i>
                                Ë®≠ÂÇôËøΩËπ§
                            </h3>
                        </div>
                        <div class="card-content">
                            <!-- Walkie-talkies -->
                            <div class="device-section">
                                <div class="device-header">
                                    <div class="device-info">
                                        <i data-lucide="radio"></i>
                                        <span>Â∞çË¨õÊ©ü</span>
                                    </div>
                                    <div class="device-stats">
                                        <span>Â∑≤ÂÄüÁî®: <strong id="walkieBorrowed">5</strong></span>
                                        <span>Â∑≤Ê≠∏ÈÇÑ: <strong id="walkieReturned">2</strong></span>
                                        <span class="badge badge-error" id="walkieStatus">Êú™Ê≠∏ÈÇÑ</span>
                                    </div>
                                </div>
                                <div class="device-details" id="walkieDetails">
                                    <!-- Device details will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- CCTV Equipment -->
                            <div class="device-section">
                                <div class="device-header">
                                    <div class="device-info">
                                        <i data-lucide="camera"></i>
                                        <span>ÈñâË∑ØÈõªË¶ñË®≠ÂÇô</span>
                                    </div>
                                    <div class="device-stats">
                                        <span>Â∑≤ÂÄüÁî®: <strong id="cctvBorrowed">2</strong></span>
                                        <span>Â∑≤Ê≠∏ÈÇÑ: <strong id="cctvReturned">0</strong></span>
                                        <span class="badge badge-error" id="cctvStatus">Êú™Ê≠∏ÈÇÑ</span>
                                    </div>
                                </div>
                                <div class="device-details" id="cctvDetails">
                                    <!-- Device details will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Form Registration Page -->
        <div id="form-registration-page" class="page">
            <div class="container">
                <!-- User Selection Screen -->
                <div id="user-selection" class="user-selection">
                    <div class="selection-card">
                        <div class="card-header text-center">
                            <h2 class="card-title">ÈÅ∏Êìá‰ΩøÁî®ÊñπÂºè</h2>
                            <p class="card-subtitle">Ë´ãÈÅ∏ÊìáÊÇ®ÁöÑ‰ΩøÁî®ÊñπÂºè‰ª•Áç≤ÂæóÊúÄ‰Ω≥È´îÈ©ó</p>
                        </div>
                        <div class="card-content">
                            <div class="selection-grid">
                                <div class="selection-option" data-option="existing">
                                    <div class="option-icon">
                                        <i data-lucide="rotate-ccw"></i>
                                    </div>
                                    <h3>ËàäÁî®Êà∂Âø´ÈÄüËºâÂÖ•</h3>
                                    <p>ËºâÂÖ•Êò®Êó•Êï∏ÊìöÔºåÂø´ÈÄüÂÆåÊàê‰ªäÊó•ÁôªË®ò</p>
                                    <button class="btn btn-primary">Âø´ÈÄüËºâÂÖ•</button>
                                </div>
                                <div class="selection-option" data-option="new">
                                    <div class="option-icon">
                                        <i data-lucide="plus"></i>
                                    </div>
                                    <h3>Êñ∞Áî®Êà∂ÂÆåÊï¥Ë°®Ê†º</h3>
                                    <p>È¶ñÊ¨°‰ΩøÁî®ÊàñÈúÄË¶ÅÈáçÊñ∞Â°´ÂØ´ÊâÄÊúâË≥áÊñô</p>
                                    <button class="btn btn-outline">Êñ∞Âª∫Ë°®Ê†º</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Form Content (Hidden initially) -->
                <div id="form-content" class="form-content" style="display: none;">
                    <!-- SWAC Table Section -->
                    <div class="form-section">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">
                                    ÊØèÊó• SWAC
                                    <i data-lucide="info" class="info-icon"></i>
                                </h3>
                            </div>
                            <div class="card-content">
                                <div class="table-container">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>ÈÅ∏Êìá</th>
                                                <th>Á∑®Ëôü</th>
                                                <th>Â∑•‰ΩúË®ÇÂñÆÁ∑®Ëôü</th>
                                                <th>ÂêàÂêåÊ®ôÈ°å</th>
                                                <th>ÊúüÈôê</th>
                                                <th>EMM</th>
                                                <th>‰ΩçÁΩÆ</th>
                                                <th>ÈñãÂßãÊôÇÈñì</th>
                                                <th>ÁµêÊùüÊôÇÈñì</th>
                                            </tr>
                                        </thead>
                                        <tbody id="swacTableBody">
                                            <!-- SWAC data will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SWAC Daily Section -->
                    <div class="form-section" id="swac-daily" style="display: none;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">SWAC ÊØèÊó•</h3>
                            </div>
                            <div class="card-content">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="todayWorkContent">‰ªäÂ§©Â∑•‰ΩúÂÖßÂÆπ</label>
                                        <input type="text" id="todayWorkContent" class="form-input" placeholder="Ë´ãËº∏ÂÖ•Â∑•‰ΩúÂÖßÂÆπ">
                                    </div>
                                    <div class="form-group">
                                        <label for="workLocation">Â∑•‰ΩúÂú∞Èªû</label>
                                        <input type="text" id="workLocation" class="form-input" placeholder="Ë´ãËº∏ÂÖ•Â∑•‰ΩúÂú∞Èªû">
                                    </div>
                                    <div class="form-group">
                                        <label>Â∑•‰ΩúÈ°ûÂûã</label>
                                        <div class="checkbox-group">
                                            <label class="checkbox-item">
                                                <input type="checkbox" value="È´òÁ©∫Â∑•‰Ωú">
                                                <span>È´òÁ©∫Â∑•‰Ωú (Height Work)</span>
                                            </label>
                                            <label class="checkbox-item">
                                                <input type="checkbox" value="ÁÜ±Â∑•‰Ωú">
                                                <span>ÁÜ±Â∑•‰Ωú (Heat Work)</span>
                                            </label>
                                            <label class="checkbox-item">
                                                <input type="checkbox" value="ÂØÜÈñâÁ©∫ÈñìÂ∑•‰Ωú">
                                                <span>ÂØÜÈñâÁ©∫ÈñìÂ∑•‰Ωú (Confined Space)</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="expectedDepartureTime">È†êË®àÈõ¢ÈñãÊôÇÈñì</label>
                                        <input type="time" id="expectedDepartureTime" class="form-input" value="18:00">
                                    </div>
                                    <div class="form-group">
                                        <label for="supervisor">ÊâøËæ¶ÂïÜÁèæÂ†¥Ë≤†Ë≤¨‰∫∫</label>
                                        <select id="supervisor" class="form-select">
                                            <option value="">Ë´ãÈÅ∏Êìá</option>
                                            <option value="supervisor1">CHAN TAI MAN</option>
                                            <option value="supervisor2">WONG KAM WAH</option>
                                            <option value="supervisor3">LEE SIU MING</option>
                                        </select>
                                        <input type="text" class="form-input" placeholder="Ë≤†Ë≤¨‰∫∫ Tel: 12345678">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Workers Section -->
                    <div class="form-section" id="workers-section" style="display: none;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">
                                    Â∑•‰∫∫Êï∏ÁõÆ: <span id="workerCount">0</span>
                                </h3>
                                <button class="btn btn-outline btn-sm" id="addWorkerBtn">
                                    <i data-lucide="plus"></i>
                                    Ê∑ªÂä†Â∑•‰∫∫
                                </button>
                            </div>
                            <div class="card-content">
                                <div class="table-container">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>ÈÅ∏Êìá</th>
                                                <th>ÂßìÂêç</th>
                                                <th>ÈõªË©±</th>
                                                <th>Á∂†Âç°ËôüÁ¢º</th>
                                                <th>Êìç‰Ωú</th>
                                            </tr>
                                        </thead>
                                        <tbody id="workersFormTableBody">
                                            <!-- Workers form data will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Fields -->
                    <div class="form-section" id="additional-fields" style="display: none;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">ÂÖ∂‰ªñË≥áÊñô</h3>
                            </div>
                            <div class="card-content">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="siteWorkerInfo">ÁèæÂ†¥ÈñãÂ∑•Â∑•‰∫∫Á®±ÂëºÂèäÈõªË©±</label>
                                        <input type="text" id="siteWorkerInfo" class="form-input" placeholder="Ë´ãËº∏ÂÖ•ÁèæÂ†¥Â∑•‰∫∫ËÅØÁµ°Ë≥áË®ä">
                                    </div>
                                    <div class="form-group">
                                        <label for="cctvInfo">CCTV Info</label>
                                        <textarea id="cctvInfo" class="form-textarea" placeholder="URL: http://example.com&#10;Username: user123&#10;Password: ******" rows="3"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="consultant">È°ßÂïèÊ©üÊßã/ÊâøËæ¶ÂïÜ</label>
                                        <select id="consultant" class="form-select">
                                            <option value="">Ë´ãÈÅ∏Êìá</option>
                                            <option value="consultant1">È°ßÂïèÊ©üÊßã A</option>
                                            <option value="consultant2">È°ßÂïèÊ©üÊßã B</option>
                                            <option value="contractor1">ÊâøËæ¶ÂïÜ A</option>
                                            <option value="contractor2">ÊâøËæ¶ÂïÜ B</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="personInCharge">Ë≤†Ë≤¨‰∫∫ÂßìÂêç</label>
                                        <select id="personInCharge" class="form-select">
                                            <option value="">Ë´ãÈÅ∏Êìá</option>
                                            <option value="person1">Âºµ‰∏â</option>
                                            <option value="person2">ÊùéÂõõ</option>
                                            <option value="person3">Áéã‰∫î</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="walkieTalkie">Walkie Talkie</label>
                                        <select id="walkieTalkie" class="form-select">
                                            <option value="">Ë´ãÈÅ∏Êìá</option>
                                            <option value="assigned">Â∑≤ÂàÜÈÖç</option>
                                            <option value="pending">ÂæÖÂàÜÈÖç</option>
                                            <option value="not-required">‰∏çÈúÄË¶Å</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="signatureConfirmation">Á∞ΩÁΩ≤Á¢∫Ë™çË≠â</label>
                                        <input type="text" id="signatureConfirmation" class="form-input" placeholder="Ë´ãËº∏ÂÖ•Á∞ΩÁΩ≤Á¢∫Ë™çË≠â">
                                    </div>
                                    <div class="form-group">
                                        <label for="numbersOfDevice">ÂõõÂêà‰∏ÄÊâãÊèêÊ∞£È´îÊ™¢Ê∏¨ÂÑÄ Êï∏Èáè</label>
                                        <input type="number" id="numbersOfDevice" class="form-input" placeholder="Ëº∏ÂÖ•Ë®≠ÂÇôÊï∏Èáè" min="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="chouNumber">Á±åËôü</label>
                                        <input type="text" id="chouNumber" class="form-input" placeholder="Ë´ãËº∏ÂÖ•Á±åËôü">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Submission Section -->
                    <div class="form-section" id="submission-section" style="display: none;">
                        <div class="card">
                            <div class="card-content">
                                <div class="submission-actions">
                                    <div class="action-buttons">
                                        <button class="btn btn-primary">‰øùÂ≠ò</button>
                                        <button class="btn btn-danger">ÊãíÁµï</button>
                                    </div>
                                    <div class="submission-note">
                                        üí° Ë®òÈåÑÂèØ‰ª•Âú® DSD ËÅ∑Âì°ÈªûÊìä„ÄåÈñãÂßãÂ∑•‰Ωú„ÄçÊåâÈàï‰πãÂâçÈö®ÊôÇ‰øùÂ≠ò
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Rejection Modal -->
    <div id="rejectionModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ÊãíÁµïÁôªË®ò</h3>
                <button class="modal-close" id="closeModal">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="rejectionReason">ÊãíÁµïÂéüÂõ†</label>
                    <textarea id="rejectionReason" class="form-textarea" placeholder="Ëº∏ÂÖ•ÂéüÂõ†Ôºå‰æãÂ¶ÇÔºöÊö¥Èõ®Ë≠¶Âëä" rows="4"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelRejection">ÂèñÊ∂à</button>
                <button class="btn btn-danger" id="confirmRejection">Á¢∫Ë™ç</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>ËºâÂÖ•‰∏≠...</p>
    </div>

    <script src="script.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96abe15ab846df9d',t:'MTc1NDQ1NTQ3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html> 